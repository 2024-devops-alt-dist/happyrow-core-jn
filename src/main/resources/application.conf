ktor {
    deployment {
        port = 8080
        port = ${?PORT}
    }
    application {
        modules = [ com.happyrow.core.ApplicationKt.module ]
    }
}

database {
    # Environment variables will be used for database configuration
    url = ${?DATABASE_URL}
    username = ${?DB_USERNAME}
    password = ${?DB_PASSWORD}
    maxPoolSize = ${?DB_MAX_POOL_SIZE}
    connectionTimeout = ${?DB_CONNECTION_TIMEOUT}
    idleTimeout = ${?DB_IDLE_TIMEOUT}
    maxLifetime = ${?DB_MAX_LIFETIME}
    sslMode = ${?DB_SSL_MODE}
}

application {
  sql {
    jdbcUrl = ${?DATABASE_URL}
    username = ${?DB_USERNAME}
    password = ${?DB_PASSWORD}
    maximumPoolSize = ${?DB_MAX_POOL_SIZE}
  }
  info {
    name = "happyrow-core"
    version = "1.0.0"
    environment = ${?ENVIRONMENT}
  }
}
